# TensorTrade

**TensorTrade** - проект торгового бота с высокой рентабельностью, который сочетает нейронные сети и алгоритмический трейдинг.

## Описание проекта

Главная цель проекта - создать торгового бота, который будет показывать рентабельность минимум 300%, а в идеале 400% годовых. Проект реализует комбинированную модель нейросетей и алгоритмов для обеспечения наилучшей рентабельности бота при торговле на спотовом рынке Binance.

### Основные возможности:

- Сбор и обработка данных с биржи Binance
- Генерация технических индикаторов и признаков
- Обучение гибридной модели, объединяющей:
  - LSTM сети
  - Обучение с подкреплением (Reinforcement Learning)
  - Модели на основе технических индикаторов
- Бэктестинг модели на исторических данных
- Симуляция торговли в реальном времени с использованием WebSocket сервера
- Модуль живой торговли с поддержкой демо-режима и реальной торговли
- Визуализация результатов и генерация отчетов

## Установка и запуск

### Требования

- Docker и Docker Compose
- Python 3.11.9 (для запуска вне Docker)

### Установка с использованием Docker

1. Клонируйте репозиторий:
   ```
   git clone https://github.com/yourusername/tensortrade.git
   cd tensortrade
   ```

2. Создайте файл `.env` из примера:
   ```
   cp .env.example .env
   ```

3. Отредактируйте `.env` файл, указав свои параметры и API ключи (если нужно)

4. Сделайте скрипт запуска исполняемым:
   ```
   chmod +x run.sh
   ```

5. Соберите Docker-образы:
   ```
   docker-compose build
   ```

### Запуск

Для запуска различных режимов работы используйте скрипт `run.sh`:

- **Сбор данных**:
  ```
  ./run.sh collect --symbol BTCUSDT --interval 1h --start_date 2023-01-01 --end_date 2023-12-31
  ```

- **Обучение модели**:
  ```
  ./run.sh train --model_type hybrid
  ```

- **Бэктестинг**:
  ```
  ./run.sh backtest --data_file data/BTCUSDT_1h_2023-01-01_2023-12-31.csv
  ```

- **Симуляция**:
  ```
  ./run.sh simulate
  ```

- **Живая торговля** (в демо-режиме):
  ```
  ./run.sh trade --model_file models/hybrid_model.pkl --demo
  ```

- **Оптимизация параметров**:
  ```
  ./run.sh optimize --model_type technical
  ```

- **Запуск Jupyter Notebook**:
  ```
  ./run.sh notebook
  ```

- **Запуск WebSocket сервера**:
  ```
  ./run.sh wss
  ```

## Структура проекта

```
tensortrade/
├── docker-compose.yml           # Конфигурация Docker
├── Dockerfile                   # Сборка основного образа
├── requirements.txt             # Зависимости Python
├── README.md                    # Документация проекта
├── .env.example                 # Пример переменных окружения
├── config.json                  # Конфигурация проекта
├── run.sh                       # Скрипт для запуска
├── data/                        # Каталог для данных
├── models/                      # Сохраненные модели
├── logs/                        # Логи
├── output/                      # Результаты работы
└── src/                         # Исходный код
    ├── data/                    # Модуль сбора и обработки данных
    ├── models/                  # Модуль моделирования
    ├── backtest/                # Модуль бэктестинга
    ├── simulation/              # Модуль симуляции
    ├── trading/                 # Модуль живой торговли
    └── visualization/           # Модуль визуализации
```

## Конфигурация

Основные параметры проекта хранятся в файле `config.json`. Вы можете изменить их в соответствии с вашими потребностями:

- **API ключи**: `api_key`, `api_secret`
- **Параметры торговли**: `symbol`, `interval`, `initial_balance`, `fee`, и т.д.
- **Параметры моделей**: различные настройки для LSTM, RL и технических моделей
- **Пути к каталогам**: `data_dir`, `models_dir`, `output_dir`

## Примеры использования

### Пример полного рабочего процесса

1. Сбор исторических данных:
   ```
   ./run.sh collect --symbol BTCUSDT --interval 1h --start_date 2023-01-01 --end_date 2023-12-31
   ```

2. Обучение гибридной модели:
   ```
   ./run.sh train --model_type hybrid --data_file data/BTCUSDT_1h_2023-01-01_2023-12-31.csv
   ```

3. Бэктестирование модели:
   ```
   ./run.sh backtest --model_file models/hybrid_model.pkl --data_file data/BTCUSDT_1h_2023-01-01_2023-12-31.csv
   ```

4. Оптимизация параметров:
   ```
   ./run.sh optimize --model_type hybrid --data_file data/BTCUSDT_1h_2023-01-01_2023-12-31.csv
   ```

5. Запуск торговли в демо-режиме:
   ```
   ./run.sh trade --model_file models/hybrid_model.pkl --demo
   ```

## Архитектура моделей

### Гибридная модель

Ключевым компонентом проекта является гибридная модель, объединяющая несколько подходов:

1. **LSTM-модель** - работает с временными рядами и выявляет долгосрочные паттерны в данных.
2. **Reinforcement Learning** - использует обучение с подкреплением для оптимизации торговых стратегий.
3. **Техническая модель** - использует классические технические индикаторы и методы машинного обучения.

Эти подходы комбинируются с определенными весами для принятия итогового решения о торговле.

## Лицензия

Проект распространяется под лицензией MIT. См. файл LICENSE для получения дополнительной информации.

## Отказ от ответственности

Этот проект предназначен только для образовательных и исследовательских целей. Торговля на финансовых рынках связана с риском потери денег. Авторы проекта не несут ответственности за любые финансовые потери, связанные с использованием данного программного обеспечения.